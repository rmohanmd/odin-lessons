<!--
      To Do:

      1. Make functions for win, loss since it's repeated. 
    -->

<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF8" />
    <script src="rockPaperScissors.js"></script>
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <script>
      let gameCounter;
      let playerWinCount;
      let computerWinCount;
      let tieCount;

      //Get random number between (1-3) and assign a value of Rock Paper Scissors
      // adding 1 changes it from 0-2 -> 1-3.
      function getComputerChoice() {
        let compChoice = Math.floor(Math.random() * 3 + 1);
        const options = {
          1: "rock",
          2: "paper",
          3: "scissors",
        };
        return options[compChoice];
      }

      //Logic of rock paper scissors.

      function playRound(playerSelection, computerSelection) {
        playerSelection = playerSelection.toLowerCase(); //change player entry to all lowercase
        let tieMsg = `It's a tie! You both chose ${computerSelection} .`;
        let winMsg = `you win this round! ${playerSelection} beats ${computerSelection}.`;
        let loseMsg = `you lose this round! ${computerSelection} beats ${playerSelection}.`;

        if (playerSelection === computerSelection) {
          return tieMsg;
        } else if (playerSelection === "rock") {
          if (computerSelection === "scissors") {
            winCount++;
            return winMsg;
          } else {
            winCount--;
            return loseMsg;
          }
        } else if (playerSelection === "paper") {
          if (computerSelection === "rock") {
            winCount++;
            return winMsg;
          } else {
            winCount--;
            return loseMsg;
          }
        } else if (playerSelection === "scissors") {
          if (computerSelection === "paper") {
            winCount++;
            return winMsg;
          } else {
            winCount--;
            return loseMsg;
          }
        } else {
          gameCounter--; //adjust gameCounter to null an invalid game so 5 complete games can be played.
          return "Invalid Choice! please only enter either rock, paper scissors";
        }
      }

      //reset all counters
      function resetCount() {
        gameCounter = 0;
        winCount = 0;
      }

      function game() {
        resetCount();
        for (; gameCounter < 5; gameCounter++) {
          playerSelection = prompt(
            "Choose either Rock, Paper or Scissors. Spelling matters",
            ""
          );
          console.log(playRound(playerSelection, getComputerChoice()));
        }
        if (winCount > 0) {
          console.log("You Win!");
        } else if (winCount < 0) {
          console.log("You Lose! :(");
        } else {
          console.log("It's a tie! No one wins");
        }
      }
    </script>
  </body>
</html>
